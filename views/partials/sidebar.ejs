
<div class="col-sm-3 col-md-2 sidebar">
    <div class="top-navigation">
            <span style="display:none;" id="userID" data-id="<%= user._id %>"></span>
        <div class="t-menu">MENU</div>
        <div class="t-img">
            <img src="/static/images/lines.png" alt="" />
        </div>
        <div class="clearfix"> </div>
    </div>
        <div class="drop-navigation drop-navigation">
            <ul class="nav nav-sidebar">
            <li class="active"><a href="/index" class="home-icon"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>Home</a></li>
            <li><a href="/history" class="sub-icon"><span class="glyphicon glyphicon-home glyphicon-hourglass" aria-hidden="true"></span>History</a></li>
            <li><a href="#" class="menu1"><span class="glyphicon glyphicon-film" aria-hidden="true"></span>Playlists<span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></a></li>
                <ul class="cl-effect-2">
                   
                </ul>
                <!-- script-for-menu -->
                <script>
                    $( "li a.menu1" ).click(function() {
                        $.get(
                            '/playlist/getAll/<%= user._id %>',
                            function(data,status){
                                if(status=="success"){
                                    let ndata;
                                    $('ul.cl-effect-2').html("");
                                    data.forEach(element => {
                                        ndata = '<li><a href="/playlist/view/'+ element._id +'">'+ element.playlistName +'</a></li>';
                                        $('ul.cl-effect-2').append(ndata);
                                    });
                                    $( "ul.cl-effect-2" ).slideToggle( 300, function() {
                                    // Animation complete.
                                    });
                                }
                            }
                        );
                    
                    });
                </script>
            <li><a href="#" class="menu"><span class="glyphicon glyphicon-film glyphicon-king" aria-hidden="true"></span>Subscriptions<span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></a></li>
                <ul class="cl-effect-1">
                   
                </ul>
                <!-- script-for-menu -->
                <script>
                    $( "li a.menu" ).click(function() {
                        $.get(
                            '/subscribe/getAllSubs/<%= user._id %>',
                            function(data,status){
                                if(status=="success"){
                                    let ndata;
                                    $('ul.cl-effect-1').html("");
                                    data.forEach(element => {
                                        ndata = '<li><a href="/channel/id/'+ element.subsTo._id +'">'+ element.subsTo.name +'</a></li>';
                                        $('ul.cl-effect-1').append(ndata);
                                    });
                                    $( "ul.cl-effect-1" ).slideToggle( 300, function() {
                                    // Animation complete.
                                    });
                                }
                            }
                        );
                    });
                </script>
            </ul>
            <!-- script-for-menu -->
                <script>
                    $( ".top-navigation" ).click(function() {
                    $( ".drop-navigation" ).slideToggle( 300, function() {
                    // Animation complete.
                    });
                    });
                </script>
            
        </div>
</div>
